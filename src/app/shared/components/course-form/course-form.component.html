<!-- Replace ::text:: with your code -->
<h2 class="header">{{ header }}</h2>
<form class="form" (ngSubmit)="onSubmit()" [formGroup]="courseForm">
  <div class="app-plate">
    <div class="course">
      <h3>Main Info</h3>
      <div class="form__control">
        <label for="title">Title</label>
        <!--Use the name `title` for the form control.-->
        <input
          type="text"
          id="title"
          placeholder="Input text"
          formControlName="title"
        />
        <span
          *ngIf="title?.invalid && title?.touched"
          id="titleErrorMessage"
          class="text-danger"
          >Title is required.</span
        >
      </div>
      <div class="form__control">
        <label for="description">Description</label>
        <!--Use the name `description` for the form control.-->
        <textarea
          id="description"
          name="description"
          placeholder="Input text"
          rows="4"
          cols="5"
          formControlName="description"
        ></textarea>
        <span
          *ngIf="description?.invalid && description?.touched"
          id="descriptionErrorMessage"
          class="text-danger"
          >Description is required.</span
        >
      </div>
      <div class="separator"></div>
      <h3>Authors</h3>
      <div class="form__control" formGroupName="newAuthor">
        <div *ngIf="this.mode !== 2">
          <div class="course__flex">
            <!--Use the name `author` for the form control.-->
            <input
              type="text"
              id="author"
              placeholder="Input Author Name"
              formControlName="author"
            />
            <app-button
              id="createAuthor"
              buttonText="create author"
              type="button"
              (click)="onCreateAuthor()"
            ></app-button>
          </div>
          <span *ngIf="showAuthorErrorMessage" id="authorErrorMessage"
            >New author should contain only latin letters and numbers.</span
          >
        </div>
        <!--Use the name `authors` for the form array.-->
        <ul class="course__authors" formArrayName="authors">
          <li
            class="course__authors-item"
            *ngFor="let author of authors.controls; let i = index"
          >
            <span>{{ author.value }}</span>
            <fa-icon
              *ngIf="this.mode !== 2"
              class="course__authors-icon"
              [icon]="['fas', 'xmark']"
              (click)="onDeleteAuthor(i)"
            ></fa-icon>
          </li>
        </ul>
      </div>
      <div class="separator"></div>
      <h3>Duration</h3>
      <div class="form__control">
        <label for="description">Duration</label>
        <div class="course__flex">
          <!--Use the name `duration` for the form array.-->
          <input
            type="number"
            id="duration"
            placeholder="Input duration"
            formControlName="duration"
          />
          <div class="course__duration">{{ duration?.value | duration }}</div>
        </div>
        <span
          *ngIf="duration?.invalid && duration?.touched"
          id="durationErrorMessage"
          class="text-danger"
          >Duration is required.</span
        >
      </div>
      <div class="form__action">
        <div class="form__action-buttons">
          <app-button
            buttonText="cancel"
            type="button"
            routerLink="/courses"
          ></app-button>
          <app-button
            *ngIf="this.mode !== 2"
            [buttonText]="this.mode !== 1 ? 'create course' : 'update course'"
            type="submit"
          ></app-button>
        </div>
      </div>
    </div>
  </div>
</form>
